const id=e=>document.getElementById(e),$=e=>document.querySelector(e),$All=e=>document.querySelectorAll(e);HTMLElement.prototype.$=function(e){return this.querySelector(e)},HTMLElement.prototype.$All=function(e){return this.querySelectorAll(e)},HTMLElement.prototype.css=function(e){return this.setQUERYibute("css",e)};class Menu{constructor(e,t,s){this.SELECTED_OPTION_CLASS=e,this.OPEN_MENU_CLASS=t,this.MENU_CONTAINER=s}#lookUp(e,t){if(!e||!t||"string"!=typeof t||!e.parentElement)throw Error("Unexpected: two valid arguments are required");let s=e;for(;!s.className.includes(t)&&"HTML"!=s.tagName;)s=s.parentElement;return"HTML"!=s.tagName&&s}#getHeight(e){var t=e.firstChild,s=e.children.length,{height:o,marginTop:e,marginBottom:t}=getComputedStyle(t);return`calc((${o} + ${e} + ${t}) * ${s})`}#removeStyles(t,s){$All(".dropdown").forEach(e=>{t!=e&&(e.style.height=0)});const e=this.MENU_CONTAINER.$All(".selectable");e.forEach(e=>{s!==e&&(e.classList.remove("open"),e.classList.remove("selected"))})}#setStyles(e,t,s){const o=s.$(".selectable");e&&(e.style.height=this.#getHeight(e)),o.classList.add(this.OPEN_MENU_CLASS),t.classList.add(this.SELECTED_OPTION_CLASS)}open(e){const t=this.#lookUp(e,"menu_option");var s=t.$(".dropdown"),e=this.#lookUp(e,"selectable");this.#removeStyles(s,e),this.#setStyles(s,e,t)}}const menu=new Menu("selected","open",id("menu"));let openScreen;const screenVisible=e=>{const t=$(`[scr="${e}"]`);var s=$(`[href="${e}"]`);openScreen!==t&&(menu.open(s),$All("article[scr]").forEach(e=>{e!==t&&e.removeAttribute("style")}),openScreen=e),t.setAttribute("style","opacity: 1; z-index: 3")},observerFunction=e=>{e.forEach(e=>{var t=e.target.id;e.isIntersecting&&"#"+t!==location.hash&&(location.hash=t)})},observer=new IntersectionObserver(observerFunction,{threshold:1});$All(".view").forEach(e=>observer.observe(e)),location.hash=location.hash||"home",screenVisible(location.hash),onhashchange=()=>screenVisible(location.hash);
//# sourceMappingURL=_main.js.map
