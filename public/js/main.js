const id=e=>document.getElementById(e),$=e=>document.querySelector(e);_$=e=>document.querySelectorAll(e),HTMLElement.prototype.$=function(e){return this.querySelector(e)},HTMLElement.prototype._$=function(e){return this.querySelectorAll(e)};class Menu{constructor(e,t,s,o,r){this.selectablesAttr=e,this.activeCls=t,this.openCls=s,this.dropdownCls=o,this.optionCls=r}#searchUp(e,t,s){if(!e||!t||"string"!=typeof t||!e.parentElement)throw Error("Unexpected: two valid arguments are required");let o=e;for(;!o?.getAttribute(t)?.includes(s)&&"HTML"!=o.tagName;)o=o.parentElement;return"HTML"!=o.tagName&&o}#getHeight(e){var t=getComputedStyle(e.children[1].children[0]),s=e=>parseInt(e.split("px")[0]);return(s(t.height)+s(t.marginBottom)+s(t.marginTop))*e.children[1].children.length+"px"}#removeClass(){_$("."+this.dropdownCls).forEach(e=>e.removeAttribute("style")),_$(`[${this.selectablesAttr}]`).forEach(e=>{e.classList.remove(this.activeCls),e.classList.remove(this.openCls)})}#setStyles(e){const t=this.#searchUp(e,"class",this.optionCls),s=this.#searchUp(e,this.selectablesAttr,""),o=t.$("."+this.dropdownCls);o&&(o.style.height=this.#getHeight(t),console.log("xd")),t.$(`[${this.selectablesAttr}]`).classList.add(this.openCls),s.classList.add(this.activeCls)}open(e){this.#removeClass(),this.#setStyles(e)}}const menu=new Menu("swicht","active","open","more","option");let openScreen=void 0;const screenVisible=e=>{const t=$(`[scr="${e}"]`);openScreen!==e&&(menu.open($(`[href="${e}"]`)),_$("article[scr]").forEach(e=>{e!==t&&e.removeAttribute("style")}),openScreen=e),t.setAttribute("style","opacity: 1; z-index: 3")};location.hash=location.hash||"home",screenVisible(location.hash);const observerFunction=e=>{e.forEach(e=>{var t=e.target.id;e.isIntersecting&&"#"+t!==location.hash&&(location.hash=t)})},observer=new IntersectionObserver(observerFunction,{threshold:1});onhashchange=()=>screenVisible(location.hash),_$(".view").forEach(e=>observer.observe(e)),setTimeout(()=>{location.reload()},1e7);
//# sourceMappingURL=main.js.map
