const id=e=>document.getElementById(e),$=e=>document.querySelector(e);_$=e=>document.querySelectorAll(e),HTMLElement.prototype.$=function(e){return this.querySelector(e)},HTMLElement.prototype._$=function(e){return this.querySelectorAll(e)};class Menu{constructor(e,t,s,r,i){this.toggleActiveAttr=e,this.activeClass=t,this.openClass=s,this.moreContainerClass=r,this.optionClass=i}#searchUp(e,t,s){if(!e||!t||"string"!=typeof t||!e.parentElement)throw Error("Unexpected: two valid arguments are required");let r=e;for(;!r?.getAttribute(t)?.includes(s)&&"HTML"!=r.tagName;)r=r.parentElement;return"HTML"!=r.tagName&&r}#getHeight(e){var t=getComputedStyle(e.children[1].children[0]),s=e=>parseInt(e.split("px")[0]);return(s(t.height)+s(t.marginBottom)+s(t.marginTop))*e.children[1].children.length+"px"}#removeClass(){_$("."+this.moreContainerClass).forEach(e=>e.removeAttribute("style")),_$(`[${this.toggleActiveAttr}]`).forEach(e=>{e.classList.remove(this.activeClass),e.classList.remove(this.openClass)})}#setStyles(e){const t=this.#searchUp(e,"class",this.optionClass),s=this.#searchUp(e,this.toggleActiveAttr,""),r=t.$("."+this.moreContainerClass);r&&(r.style.height=this.#getHeight(t)),t.$(`[${this.toggleActiveAttr}]`).classList.add(this.openClass),s.classList.add(this.activeClass)}open(e){this.#removeClass(),this.#setStyles(e)}}const menu=new Menu("swicht","active","open","more","option"),screenVisible=e=>{menu.open($(`[href="${e}"]`)),_$("article[scr]").forEach(e=>{e.removeAttribute("style")}),$(`[scr="${e}"]`).setAttribute("style","opacity: 1; z-index: 3")};onhashchange=()=>screenVisible(location.hash);const threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&screenVisible("#"+e.target.id)})},{threshold:threshold});_$(".view").forEach(e=>observer.observe(e)),setTimeout(()=>{location.reload()},1e6);
//# sourceMappingURL=main.js.map
